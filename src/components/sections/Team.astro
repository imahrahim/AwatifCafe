---
import SectionTitle from "../ui/SectionTitle.astro";
import Section from "./Section.astro";

// Bilder
import snorkel from "../../assets/pics/snorkel.png";
import rawaImg from "../../assets/pics/rawa.png";
import redangImg from "../../assets/pics/redang.png";

const description =
  "Discover Perhentian’s best snorkelling spots – from colourful coral gardens to hidden turtle bays. Safe, guided trips for all skill levels.";

// Gruppenstruktur: je 2 Trips zusammen
const teamGroups = [
  {
    trips: [
      {
        pic: snorkel,
        name: "Short Trip",
        role: "10:30AM – 1:00PM",
        description: ["Fish Point", "Turtle Point", "Shark Point"],
        pricePerPerson: "RM 40",
        privateBoatPrice: "RM 400",
        privateBoatInfo: "private boat (max. 8 p.)",
        link: "https://linkedin.com",
      },
      {
        name: "Long Trip",
        role: "10:30AM – 2:30PM",
        description: [
          "Fish Point",
          "Turtle Point",
          "Shark Point",
          "Turtle Beach",
          "Fisherman Village (Lunch)",
        ],
        pricePerPerson: "RM 50",
        privateBoatPrice: "RM 550",
        privateBoatInfo: "private boat (max. 7 p.)",
        link: "https://linkedin.com",
      },
    ],
  },
  {
    trips: [
      {
        pic: rawaImg,
        name: "Rawa Trip",
        role: "",
        description: ["Rawa", "Serenggeh", "Tukong Burung"],
        pricePerPerson: "RM 70",
        privateBoatPrice: "RM 500",
        privateBoatInfo: "private boat (max. 5 p.)",
        link: "https://linkedin.com",
      },
      {
        name: "Special Trip",
        role: "",
        description: [
          "Rawa",
          "Serenggeh",
          "Tukong Burung",
          "Light House",
          "Romantic Beach",
        ],
        pricePerPerson: "RM 90",
        privateBoatPrice: "RM 700",
        privateBoatInfo: "private boat (max. 6 p.)",
        link: "https://linkedin.com",
      },
    ],
  },
  {
    trips: [
      {
        pic: redangImg,
        name: "Redang Trip",
        role: "Start: 9:00AM",
        description: [
          "Turtles",
          "Guar @ Green Coral",
          "Long Beach (Lunch)",
          "Sand Bank",
          "Teluk Batu Kucing",
          "Silent Beach (Lang Tengah)",
          "Lucky Baby Shark",
        ],
        pricePerPerson: "RM 150",
        privateBoatPrice: "RM 900",
        privateBoatInfo: "private boat (max. 8 p.)",
        link: "https://linkedin.com",
      },
    ],
  },
];
---

<Section id="about">
  <div class="mt-[140px] mb-[10px]">
    <SectionTitle sectionTitle="Snorkeling" description={description} />

    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-10">
      {
        teamGroups.map((group) => {
          const groupImage = group.trips.find(t => t.pic)?.pic;

          return (
            <div class="bg-white rounded-xl shadow-[5px_5px_0px_#673606] overflow-hidden border border-[#673606]">
              {groupImage && (
                <img
                  src={groupImage.src}
                  alt="Trip Image"
                  class="w-full h-auto object-cover rounded-t-xl"
                />
              )}

              <div class="px-6 pb-6 pt-4">
                {
                  group.trips.map((trip) => (
                    <div class="mb-20 last:mb-0 space-y-4">
                      <!-- Name & Zeit -->
<div class="flex justify-between items-start">
  <h3 class="font-bold text-lg text-[#673606]">{trip.name}</h3>
  {trip.role && (
    <p class="text-[11px] italic font-light text-[#673606] ml-4 whitespace-nowrap">{trip.role}</p>
  )}
</div>

                      <!-- Trennlinie -->
                      <div class="w-full h-[1px] bg-[#673606]"></div>

                      <!-- Beschreibung -->
                      <ul class="list-disc list-inside text-sm text-[#673606] space-y-1">
                        {trip.description.map((item) => <li>{item}</li>)}
                      </ul>

                      <!-- Preise -->
                      <div class="flex justify-between text-sm font-semibold text-[#673606] pt-1">
                        <div>
                          <div>{trip.pricePerPerson}</div>
                          <div class="text-[11px] italic font-light">per person</div>
                        </div>
                        <div class="text-right">
                          <div>{trip.privateBoatPrice}</div>
                          <div class="text-[11px] italic font-light">{trip.privateBoatInfo}</div>
                        </div>
                      </div>
                    </div>
                  ))
                }
              </div>
            </div>
          );
        })
      }
    </div>
  </div>
</Section>